
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2014-01-20
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="ja" lang="ja">

	<head>
		<meta charset="UTF-8" />
		<title>OrangeSignal CSV - ユーザーガイド</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta name="author" content="杉澤 浩二" />
		<meta http-equiv="content-language" content="ja" />

		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

	</head>

	<body class="page-userguide project-orangesignal-csv" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li><a href="https://github.com/orangesignal/orangesignal-csv" title="GitHub" class="externalLink">GitHub </a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">ホーム <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="概要">概要 </a></li>
									<li><a href="https://github.com/orangesignal/orangesignal-csv/releases" title="ダウンロード" class="externalLink">ダウンロード </a></li>
									<li class="active"><a href="" title="ユーザーガイド">ユーザーガイド </a></li>
									<li><a href="apidocs/index.html" title="Javadoc">Javadoc </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">プロジェクト文書 <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu">
										<a href="project-info.html" title="プロジェクト情報">プロジェクト情報 </a>
										<ul class="dropdown-menu">
											<li><a href="project-summary.html" title="プロジェクトサマリ">プロジェクトサマリ </a></li>
											<li><a href="dependency-info.html" title="Dependency Information">Dependency Information </a></li>
											<li><a href="license.html" title="プロジェクトライセンス">プロジェクトライセンス </a></li>
											<li><a href="source-repository.html" title="ソースリポジトリ">ソースリポジトリ </a></li>
											<li><a href="issue-tracking.html" title="課題追跡">課題追跡 </a></li>
											<li><a href="dependencies.html" title="依存関係">依存関係 </a></li>
											<li><a href="distribution-management.html" title="Distribution Management">Distribution Management </a></li>
										</ul>
									</li>
									<li class="dropdown-submenu">
										<a href="project-reports.html" title="プロジェクトレポート">プロジェクトレポート </a>
										<ul class="dropdown-menu">
											<li><a href="cobertura/index.html" title="Cobertura Test Coverage">Cobertura Test Coverage </a></li>
											<li><a href="apidocs/index.html" title="JavaDocs">JavaDocs </a></li>
											<li><a href="xref/index.html" title="Source Xref">Source Xref </a></li>
											<li><a href="surefire-report.html" title="Surefire Report">Surefire Report </a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	<header class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="./" id="bannerLeft"><h1>OrangeSignal CSV</h1></a>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">バージョン: 2.0.0-SNAPSHOT</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">最終更新: 2014-01-20</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<!-- http://maven.apache.org/doxia/references/apt-format.html --> 
<div class="section"> 
 <div class="page-header">
  <h2 id="a">使い方</h2>
 </div> 
 <p>ここでは、本プロダクトの使い方を簡単な例を使って説明します。<br />各機能の詳細は <a href="./apidocs/index.html">Javadoc</a> をご覧ください。</p> 
 <div class="section"> 
  <h3 id="a">はじめの一歩</h3> 
  <p>以下は、文字列配列のリストで CSV ファイルへアクセスするもっとも簡単なコード例です。<br />文字列配列のリストでアクセスするにはハンドラとして StringArrayListHandler を使用します。</p> 
  <div class="source"> 
   <pre>// 入力
List&lt;String[]&gt; list = Csv.load(new File(&quot;example.csv&quot;), new CsvConfig(), new StringArrayListHandler());

// 出力
Csv.save(list, new File(&quot;example.csv&quot;), new CsvConfig(), new StringArrayListHandler());
</pre> 
  </div> 
  <p>次は POJO オブジェクトで CSV へアクセスする場合のコード例です。<br />POJO オブジェクトでの CSV アクセスは、Csv ユーティリティでもできますが CsvManager を使用する方が簡単です。</p> 
  <div class="source"> 
   <pre>CsvManager csvManager = CsvManagerFactory.newCsvManager();      // CsvManager を取得します。

// 入力
List&lt;Customer&gt; customers = csvManager.load(Customer.class).from(new File(&quot;customers.csv&quot;));

// 出力
csvManager.save(customers, Customer.class).to(new File(&quot;customers.csv&quot;));
</pre> 
  </div> 
  <p>次節以降では Csv 統合アクセスユーティリティや CsvManager 統合アクセスインターフェースを使用する上で、必要不可欠な CSV 形式情報 (CsvConfig) やデータアクセスハンドラ (CsvHandler) などについて説明していきます。</p> 
 </div> 
 <div class="section"> 
  <h3 id="CsvConfig">CsvConfig</h3> 
  <p>CsvConfig は、区切り文字や囲み文字など CSV 形式に関する設定情報を管理します。</p> 
  <div class="source"> 
   <pre>// デフォルトでは区切り文字(,)のみが有効な状態で、囲み文字(&quot;)やエスケープ文字(\)は無効となっています。
CsvConfig cfg = new CsvConfig();

// 区切り文字と囲み文字、エスケープ文字を指定して CSV 形式設定情報を構築した場合は、
// 自動的に無効化が解除され有効となります。
CsvConfig cfg = new CsvConfig(',', '&quot;', '&quot;');

// 区切り文字としてタブ文字(\t)を指定する例です。但し、囲み文字(&quot;)やエスケープ文字(\)は無効となったままです。
CsvConfig cfg = new CsvConfig('\t');
</pre> 
  </div> 
  <p>CsvConfig でその他の高度な設定を行う場合は、CsvConfig のインスタンス化後に設定を行います。</p> 
  <div class="source"> 
   <pre>CsvConfig cfg = new CsvConfig();
cfg.setQuoteDisabled(false);                         // デフォルトでは無効となっている囲み文字を有効にします。
cfg.setEscapeDisabled(false);                        // デフォルトでは無効となっているエスケープ文字を有効にします。
cfg.setBreakString(&quot;\n&quot;);                            // 項目値中の改行を \n で置換えます。
cfg.setNullString(&quot;NULL&quot;);                           // null 値扱いする文字列を指定します。
cfg.setIgnoreLeadingWhitespaces(true);               // 項目値前のホワイトスペースを除去します。
cfg.setIgnoreTrailingWhitespaces(true);              // 項目値後のホワイトスペースを除去します。
cfg.setIgnoreEmptyLines(true);                       // 空行を無視するようにします。
cfg.setIgnoreLinePatterns(Pattern.compile(&quot;^#.*$&quot;)); // 正規表現による無視する行パターンを設定します。(この例では # で始まる行)
cfg.setSkipLines(1);                                 // 最初の1行目をスキップして読込みます。

// Csv 統合アクセスユーティリティでの使用例
List&lt;String[]&gt; list = Csv.load(new File(&quot;example.csv&quot;), cfg, new StringArrayListHandler());
// CsvManager 統合アクセスインターフェースでの使用例
List&lt;Customer&gt; customers = CsvManagerFactory.newCsvManager().config(cfg).load(Customer.class).from(new File(&quot;customers.csv&quot;));
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="CsvHandler">CsvHandler</h3> 
  <p>CsvHandler は CSV データへのアクセスとオブジェクト変換を実質的に管理するデータアクセスハンドラです。</p> 
  <div class="section"> 
   <h4 id="StringArrayListHandler">StringArrayListHandler</h4> 
   <p>StringArrayListHandler は、文字列配列のリストで CSV データへのアクセスを可能とするハンドラです。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;String[]&gt; list = Csv.load(file, cfg, new StringArrayListHandler());

// 出力
Csv.save(list, file, cfg, new StringArrayListHandler());
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="ResultSetHandler">ResultSetHandler</h4> 
   <p>ResultSetHandler は、データベースの結果セットで CSV データへのアクセスを可能とするハンドラです。</p> 
   <div class="source"> 
    <pre>// 入力
ResultSet rs = Csv.load(file, cfg, new ResultSetHandler());

// 出力
Csv.save(rs, file, cfg, new ResultSetHandler());
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="ColumnNameMapListHandler">ColumnNameMapListHandler</h4> 
   <p>ColumnNameMapListHandler は、CSV ヘッダ行の項目名と CSV データの項目値とのマップオブジェクトのリストで CSV データへのアクセスを可能とするハンドラです。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Map&lt;String, String&gt;&gt; list = Csv.load(file, cfg, new ColumnNameMapListHandler());

// 出力
Csv.save(list, file, cfg, new ColumnNameMapListHandler());
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="ColumnPositionMapListHandler">ColumnPositionMapListHandler</h4> 
   <p>ColumnPositionMapListHandler は、CSV ヘッダ行の項目位置と CSV データの項目値とのマップオブジェクトのリストで CSV データへのアクセスを可能とするハンドラです。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Map&lt;Integer, String&gt;&gt; list = Csv.load(file, cfg, new ColumnPositionMapListHandler());

// 出力
Csv.save(list, file, cfg, new ColumnPositionMapListHandler());
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="BeanListHandler">BeanListHandler</h4> 
   <p>BeanListHandler は、POJO オブジェクトのリストで CSV データへのアクセスを可能とするハンドラです。<br />このハンドラは CSV ヘッダ行の項目名と POJO オブジェクトのフィールド名を対応付けて処理します。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Customer&gt; customers = Csv.load(file, cfg, new BeanListHandler&lt;Customer&gt;(Customer.class));

// 出力
Csv.save(customers, file, cfg, new BeanListHandler&lt;Customer&gt;(Customer.class));
</pre> 
   </div> 
   <p>特定の項目のみを対象としたい場合や、特定の項目のみを非対象としたい場合は次の例のように指定することで可能です。</p> 
   <div class="source"> 
    <pre>// 特定の項目だけ対象とせずに入力 (この例では name と fullname を非対象)
List&lt;Customer&gt; customers = Csv.load(file, cfg, new BeanListHandler&lt;Customer&gt;(Customer.class).excludes(&quot;name&quot;, &quot;fullname&quot;));

// 特定の項目だけ対象として出力 (この例では age と sex のみ対象)
Csv.save(customers, file, cfg, new BeanListHandler&lt;Customer&gt;(Customer.class).includes(&quot;age&quot;, &quot;sex&quot;));
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="ColumnNameMappingBeanListHandler">ColumnNameMappingBeanListHandler</h4> 
   <p>ColumnNameMappingBeanListHandler は、BeanListHandler と同じく POJO オブジェクトのリストで CSV データへのアクセスを可能とするハンドラです。 このハンドラは CSV ヘッダ行の項目名と POJO オブジェクトのフィールド名の対応付け情報をもとに処理します。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Customer&gt; customers = Csv.load(file, cfg, new ColumnNameMappingBeanListHandler&lt;Customer&gt;(Customer.class));

// 出力
Csv.save(customers, file, cfg, new ColumnNameMappingBeanListHandler&lt;Customer&gt;(Customer.class));
</pre> 
   </div> 
   <p>ヘッダ行が存在しない CSV ⇔ POJO オブジェクトをマッピングする場合は、addColumn を使用して項目列と POJO オブジェクトフィールドの関係を明示的に定義します。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Customer&gt; customers = Csv.load(file, cfg,
        new ColumnNameMappingBeanListHandler&lt;Customer&gt;(Customer.class)
            .addColumn(&quot;名前&quot;, &quot;name&quot;)
            .addColumn(&quot;フルネーム&quot;, &quot;fullname&quot;)
    );

// 出力
Csv.save(customers, file, cfg,
        new ColumnNameMappingBeanListHandler&lt;Customer&gt;(Customer.class)
            .addColumn(&quot;年齢&quot;, &quot;age&quot;)
            .addColumn(&quot;性別&quot;, &quot;sex&quot;)
    );
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="ColumnPositionMappingBeanListHandler">ColumnPositionMappingBeanListHandler</h4> 
   <p>ColumnPositionMappingBeanListHandler は、BeanListHandler と同じく POJO オブジェクトのリストで CSV データへのアクセスを可能とするハンドラです。 このハンドラは CSV ヘッダ行の項目位置と POJO オブジェクトのフィールド名の対応付け情報をもとに処理します。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Customer&gt; customers = Csv.load(file, cfg, new ColumnPositionMappingBeanListHandler&lt;Customer&gt;(Customer.class));

// 出力
Csv.save(customers, file, cfg, new ColumnPositionMappingBeanListHandler&lt;Customer&gt;(Customer.class));
</pre> 
   </div> 
   <p>ヘッダ行が存在しない CSV ⇔ POJO オブジェクトをマッピングする場合は、addColumn を使用して項目列と POJO オブジェクトフィールドの関係を明示的に定義します。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Customer&gt; customers = Csv.load(file, cfg,
        new ColumnPositionMappingBeanListHandler&lt;Customer&gt;(Customer.class)
            .addColumn(1, &quot;name&quot;)
            .addColumn(3, &quot;fullname&quot;)
    );

// 出力
Csv.save(customers, file, cfg,
        new ColumnPositionMappingBeanListHandler&lt;Customer&gt;(Customer.class)
            .addColumn(0, &quot;age&quot;)
            .addColumn(1, &quot;sex&quot;)
    );
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="CsvEntityListHandler">CsvEntityListHandler</h4> 
   <p>CsvEntityListHandler は、CSV 用のアノテーション CsvEntity で注釈付けされた POJO オブジェクトのリストで CSV データへのアクセスを可能とするハンドラです。 このハンドラは CSV ヘッダ行の項目と POJO オブジェクトの CsvColumn アノテーションで指定された項目の対応付け情報をもとに処理します。</p> 
   <div class="source"> 
    <pre>// 入力
List&lt;Customer&gt; customers = Csv.load(file, cfg, new CsvEntityListHandler&lt;Customer&gt;(Customer.class));

// 出力
Csv.save(customers, file, cfg, new CsvEntityListHandler&lt;Customer&gt;(Customer.class));
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="CsvFilter">CsvFilter</h3> 
  <p>CsvFilter は、条件と一致する CSV データや POJO オブジェクトのみをロードまたはセーブさせるためのデータフィルタです。<br />データフィルタには CSV の行データを対象とするものと POJO オブジェクトを対象にするものの二系統があり、CsvHandler や CsvManager で使用します。(※ ResultSetHandler を除く)</p> 
  <ul> 
   <li>CSV 行データを対象するデータフィルタ - CsvValueFilter / CsvNamedValueFilter</li> 
   <li>POJO オブジェクトを対象とするデータフィルタ - BeanFilter</li> 
  </ul> 
  <p>※ CsvManager や一部の CsvHandler は両系統のデータフィルタを同時に使用することが可能です。</p> 
  <div class="section"> 
   <h4 id="CsvValueFilter">CsvValueFilter</h4> 
   <p>CSV の項目位置で条件を指定するデータフィルタです。<br />以下の CsvHandler と CsvManager で使用できます。</p> 
   <ul> 
    <li>StringArrayListHandler</li> 
    <li>ColumnPositionMapListHandler</li> 
    <li>ColumnPositionMappingBeanListHandler</li> 
    <li>CsvColumnPositionMappingBeanManager</li> 
   </ul> 
   <p>※ このデータフィルタは CSV の生値である文字列を使用して指定された判定基準値と比較します。</p> 
   <div class="source"> 
    <pre>// CsvHandler でデータフィルタを使用する例

※ 単一条件を指定する場合は、CsvExpressions の使用が適しています。
new StringArrayListHandler()
        .filter(CsvExpressions.in(0, &quot;佐藤&quot;, &quot;鈴木&quot;));

※ 複雑な条件を指定する場合は、SimpleCsvValueFilter の使用が適しています。
new StringArrayListHandler()
        .filter(new SimpleCsvValueFilter()
            .in(0, &quot;佐藤&quot;, &quot;鈴木&quot;)
            .eq(2, &quot;東京都&quot;)
        );

// CsvManager でデータフィルタを使用する例

※ 単一条件を指定する場合は、CsvExpressions の使用が適しています。
new CsvColumnPositionMappingBeanManager()
        .load(Customer.class)
        .filter(CsvExpressions.in(0, &quot;佐藤&quot;, &quot;鈴木&quot;))
        .offset(0)
        .limit(1000)
        .from(reader);

※ 複雑な条件を指定する場合は、SimpleCsvValueFilter の使用が適しています。
new CsvColumnPositionMappingBeanManager()
        .load(Customer.class)
        .filter(new SimpleCsvValueFilter()
            .in(0, &quot;佐藤&quot;, &quot;鈴木&quot;)
            .eq(2, &quot;東京都&quot;)
        )
        .offset(0)
        .limit(1000)
        .from(reader);
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="CsvNamedValueFilter">CsvNamedValueFilter</h4> 
   <p>CSV の項目位置または項目名で条件を指定するデータフィルタです。<br />以下の CsvHandler と CsvManager で使用できます。</p> 
   <ul> 
    <li>ColumnNameMapListHandler</li> 
    <li>BeanListHandler</li> 
    <li>ColumnNameMappingBeanListHandler</li> 
    <li>CsvEntityListHandler</li> 
    <li>CsvBeanManager</li> 
    <li>CsvColumnNameMappingBeanManager</li> 
    <li>CsvEntityManager</li> 
   </ul> 
   <p>※ このデータフィルタは CSV の生値である文字列を使用して指定された判定基準値と比較します。</p> 
   <div class="source"> 
    <pre>// CsvHandler でデータフィルタを使用する例

※ 単一条件を指定する場合は、CsvExpressions の使用が適しています。
new ColumnNameMapListHandler()
        .filter(CsvExpressions.in(&quot;姓&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;));

※ 複雑な条件を指定する場合は、SimpleCsvNamedValueFilter の使用が適しています。
new ColumnNameMapListHandler()
        .filter(new SimpleCsvNamedValueFilter()
            .in(&quot;姓&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;)
            .eq(&quot;都道府県&quot;, &quot;東京都&quot;)
        );

// CsvManager でデータフィルタを使用する例

※ 単一条件を指定する場合は、CsvExpressions の使用が適しています。
new CsvColumnNameMappingBeanManager()
        .load(Customer.class)
        .filter(CsvExpressions.in(&quot;姓&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;))
        .offset(0)
        .limit(1000)
        .from(reader);

※ 複雑な条件を指定する場合は、SimpleCsvNamedValueFilter の使用が適しています。
new CsvColumnNameMappingBeanManager()
        .load(Customer.class)
        .filter(new SimpleCsvNamedValueFilter()
            .in(&quot;姓&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;)
            .eq(&quot;都道府県&quot;, &quot;東京都&quot;)
        )
        .offset(0)
        .limit(1000)
        .from(reader);
</pre> 
   </div> 
  </div> 
  <div class="section"> 
   <h4 id="BeanFilter">BeanFilter</h4> 
   <p>POJO オブジェクトのフィールド名で条件を指定するデータフィルタです。<br />以下の CsvHandler と CsvManager で使用できます。</p> 
   <ul> 
    <li>BeanListHandler</li> 
    <li>ColumnNameMappingBeanListHandler</li> 
    <li>ColumnPositionMappingBeanListHandler</li> 
    <li>CsvEntityListHandler</li> 
    <li>CsvBeanManager</li> 
    <li>CsvColumnNameMappingBeanManager</li> 
    <li>CsvColumnPositionMappingBeanManager</li> 
    <li>CsvEntityManager</li> 
   </ul> 
   <p>※ このデータフィルタは POJO オブジェクトのフィールド値を使用して指定された判定基準値と比較します。</p> 
   <div class="source"> 
    <pre>// CsvHandler でデータフィルタを使用する例

※ 単一条件を指定する場合は、BeanExpressions の使用が適しています。
new CsvEntityListHandler&lt;Customer&gt;(Customer.class)
        .filter(BeanExpressions.in(&quot;name&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;));

※ 複雑な条件を指定する場合は、SimpleBeanFilter の使用が適しています。
new CsvEntityListHandler&lt;Customer&gt;(Customer.class)
        .filter(new SimpleBeanFilter()
            .in(&quot;name&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;)
            .eq(&quot;prefecture&quot;, &quot;東京都&quot;)
            .between(&quot;age&quot;, 20, 60)
        );

// CsvManager でデータフィルタを使用する例

※ 単一条件を指定する場合は、BeanExpressions の使用が適しています。
new CsvEntityManager()
        .load(Customer.class)
        .filter(BeanExpressions.in(&quot;name&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;))
        .offset(0)
        .limit(1000)
        .from(reader);

※ 複雑な条件を指定する場合は、SimpleBeanFilter の使用が適しています。
new CsvEntityManager()
        .load(Customer.class)
        .filter(new SimpleBeanFilter()
            .in(&quot;name&quot;, &quot;佐藤&quot;, &quot;鈴木&quot;)
            .eq(&quot;prefecture&quot;, &quot;東京都&quot;)
            .between(&quot;age&quot;, 20, 60)
        )
        .offset(0)
        .limit(1000)
        .from(reader);
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Csv">Csv</h3> 
  <p>Csv ユーティリテイは、前節で説明した CsvConfig や CsvHandler を使用してファイルやストリームなどのリソースと CSV データアクセスを行う統合アクセスユーティリティです。 サポートされるリソースはファイルやストリーム、文字ストリーム (Reader / Writer) だけでなく ZIP や LHA などの圧縮形式のデータもサポートします。</p> 
  <p>以下は、文字列配列のリストで ZIP 圧縮形式で圧縮された CSV ファイルへアクセスする場合のコード例です。</p> 
  <div class="source"> 
   <pre>// 入力
ZipFile zipFile = new ZipFile(new File(&quot;example.zip&quot;));
try {
    List&lt;String[]&gt; list = Csv.load(zipFile, cfg, handler);
} finally {
    zipFile.close();
}

// 出力
ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(new File(&quot;example.zip&quot;)));
try {
    // example.csv というエントリ名で ZIP 圧縮形式へ出力します。
    Csv.save(list, zos, cfg, handler, &quot;example.csv&quot;);
} finally {
    zos.close();
}
</pre> 
  </div> 
  <p>特定の ZIP エントリのみを対象とする場合はエントリフィルタを使用します。</p> 
  <div class="source"> 
   <pre>// 入力
ZipFile zipFile = new ZipFile(new File(&quot;example.zip&quot;));
try {
    // この例では、エントリ名が &quot;.csv&quot; で終わるエントリのみを対象とします。
    List&lt;String[]&gt; list = Csv.load(zipFile, cfg, handler, new SuffixEntryNameFilter(&quot;.csv&quot;));
} finally {
    zipFile.close();
}
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="CsvManager">CsvManager</h3> 
  <p>CsvManager は POJO オブジェクトのリストで CSV データへのアクセスを簡単にするための統合アクセスインターフェースです。</p> 
  <div class="source"> 
   <pre>CsvManager csvManager = CsvManagerFactory.newCsvManager();      // CsvManager を取得します。

// 入力
List&lt;Customer&gt; customers = csvManager.load(Customer.class).from(new File(&quot;customers.csv&quot;));

// 出力
csvManager.save(customers, Customer.class).to(new File(&quot;customers.csv&quot;));
</pre> 
  </div> 
  <p>OrangeSignal CSV の標準では CsvManagerFactory から CsvManager を取得しますが、<br />CsvManager の実装を直接インスタンス化したり、@Resource による注入も可能です。</p> 
  <div class="source"> 
   <pre>// CsvEntityManager を直接インスタンス化して入力
List&lt;Customer&gt; customers = new CsvEntityManager().load(Customer.class).from(new File(&quot;customers.csv&quot;));

// CsvBeanManager を直接インスタンス化して出力
new CsvBeanManager().save(customers, Customer.class).to(new File(&quot;customers.csv&quot;));
</pre> 
  </div> 
  <hr /> 
  <p>この節では、使用するケースの少ない CSV に対するローレベルアクセス機能について説明を記載します。</p> 
 </div> 
 <div class="section"> 
  <h3 id="CsvReader">CsvReader</h3> 
  <p>CsvReader は文字入力ストリーム (java.io.Reader) から行データを読取って、CSV トークンのリストとして返す CSV 文字入力ストリームです。 CsvReader は CsvConfig で指定された CSV 形式情報をもとに物理行・論理行を適切に処理します。</p> 
  <p>CsvReader で行データを読込む方法には readTokens メソッド、readValues メソッドのいずれかを使用します。 readTokens メソッドは CSV トークン単位に行番号の範囲や囲み文字に囲まれていたかどうかなどの詳細な情報を返します。 ただ単に CSV の値である文字列が欲しい場合は readValues の使用が適しています。<br />以下にコード例を記載します。</p> 
  <div class="source"> 
   <pre>// readTokens() メソッドで CSV データを読込む場合
CsvReader reader = new CsvReader(new StringReader(...), cfg);
try {
   List&lt;CsvToken&gt; tokens;
   while ((tokens = reader.readTokens()) != null) {
       System.out.println(String.format(&quot;物理行番号: %d-%d&quot;, reader.getStartLineNumber(), reader.getEndLineNumber()));
       System.out.println(String.format(&quot;論理行番号: %d&quot;, reader.getLineNumber()));
       ...
       for (CsvToken token : tokens) {
           System.out.println(token.getValue());
           System.out.println(token.getStartLineNumber());
           System.out.println(token.getEndLineNumber());
           System.out.println(token.isEnclosed());
       }
   }
} finally {
    reader.close();
}

// readValues() メソッドで CSV データを読込む場合
CsvReader reader = new CsvReader(new StringReader(...), cfg);
try {
   List&lt;String&gt; values;
   while ((values = reader.readValues()) != null) {
       ...
       for (String value : values) {
           System.out.println(value);
       }
   }
} finally {
    reader.close();
}
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="CsvWriter">CsvWriter</h3> 
  <p>CsvWriter は文字出力ストリーム (java.io.Writer) へ CSV トークンを行データとして書込む CSV 文字出力ストリームです。 CsvWriter は CsvConfig で指定された CSV 形式情報をもとに CSV 形式を適切に処理します。</p> 
  <p>以上で使い方の説明を終了します。</p> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">ホーム</li>
						<li>
							<a href="index.html" title="概要">概要 </a>
						</li>
						<li>
							<a href="https://github.com/orangesignal/orangesignal-csv/releases" title="ダウンロード" class="externalLink">ダウンロード </a>
						</li>
						<li class="active">
							<a href="#" title="ユーザーガイド">ユーザーガイド </a>
						</li>
						<li>
							<a href="apidocs/index.html" title="Javadoc">Javadoc </a>
						</li>
						<li class="nav-header">プロジェクト文書</li>
						<li>
							<a href="project-info.html" title="プロジェクト情報">プロジェクト情報 <i class="icon-chevron-right"></i></a>
						</li>
						<li>
							<a href="project-reports.html" title="プロジェクトレポート">プロジェクトレポート <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2009-2014 OrangeSignal.com. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	
	</body>
</html>
